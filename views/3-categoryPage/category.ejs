<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/fontawesome-free-6.1.1-web/css/all.min.css">
    <title>Dashboard</title>
    <%- include('./partials/style.ejs'); %>
        <%- include('../a-global/style.ejs'); %>
</head>

<body>
    <%- include('../a-global/header'); %>
        <div class="main">
            <%- include('../a-global/sidebar'); %>

                <div class="right" style="color: white;">
                    <div class="nav">
                        <i class="fa-solid fa-house-user"></i>&nbsp; / &nbsp;<span>vehicle category management</span>
                    </div>
                    <div class="categories">
                        <section class="title">
                            <h3>
                                Vehicle Categories
                                <button type="button" data-bs-toggle="modal" data-bs-target="#exampleModal">Add new vehicle category</button>
                            </h3>
                        </section>
                        <section class="search">
                           <div class="idadi">
                               <span>Show</span>
                               <select name="idadi" id="select-idadi">
                                   <option value="ten">10</option>
                                   <option value="fifteen">15</option>
                                   <option value="t25">25</option>
                                   <option value="fifty">50 ></option>
                               </select>
                               <span>entries</span>
                           </div>
                           <div class="searchInpt">
                               <span>Search: &nbsp;</span>
                               <input type="text" id="sInput" placeholder="search category" oninput="searchCat()">
                           </div>
                        </section>
                        <section class="tableCont">
                            <table class="table table-striped table-bordered">
                            <thead>
                              <tr>
                                <th scope="col">#</th>
                                <th scope="col">Vehicle Category</th>
                                <th scope="col">Price (per hour)</th>
                                <th scope="col">Published On</th>
                                <th scope="col">Actions</th>
                              </tr>
                            </thead>
                            <tbody>
                                <% categories.forEach((category, index) => { %>
                                    <tr class="categoryRow">
                                        <th scope="row"><%= index + 1 %> </th>
                                        <td><%= category.cname %> </td>
                                        <td>Tsh. <%= category.price.toLocaleString('en-US') %>/= </td>
                                        <td><%= category.createdAt.toLocaleString() %> </td>
                                        <td>
                                            <i class="edit fa-regular fa-pen-to-square" type="button" data-bs-toggle="modal" data-bs-target="#editModal" onclick="editCat('<%= category.id %>', '<%= category.cname %>', '<%= category.price %>')"></i>

                                            <i class="delete fa-regular fa-trash-can" onclick="deleteCat('<%= category.id %>')"></i>
                                        </td>
                                      </tr>
                                <% }) %>
                            </tbody>
                        </table>
                        </section>
                        
                        <section class="nextprev">
                            <div class="showing">
                                Showing 1 to <%= categories.length %>  of <%= categories.length %>  entries
                            </div>
                            <div class="pn">
                                <button disabled>Prev</button>
                                <span>1</span>
                                <button disabled>Next</button>
                            </div>
                        </section>
                    </div>

                    <br><br>
                <%- include('../a-global/footer.ejs'); %>
                </div>
        </div>
        <%- include('./partials/add-cat-modal'); %>
        <%- include('./partials/edit-cat-modal'); %>
  
  

        <%- include('./partials/script'); %>
        <%- include('../a-global/script'); %>
        <script type="text/javascript" src="/bootstrap-5.1.3-dist/js/bootstrap.min.js"></script>
</body>

</html>