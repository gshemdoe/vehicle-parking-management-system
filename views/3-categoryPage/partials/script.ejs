<script>
    //convert html collections to array
    const categoryRow = Array.from(document.getElementsByClassName('categoryRow'))

    function searchCat() {
        let input = document.getElementById('sInput').value
        categoryRow.forEach(cat => {
            if(cat.innerText.toLowerCase().includes(input.toLowerCase())) {
                cat.style.display = 'table-row'
            } else {
                cat.style.display = 'none'
            }
        })
    }

    function editCat(e, cname, price) {
        let editFormAction = document.getElementById('edit-category-form')
        editFormAction.action = `edit-category/${e}`

        document.getElementById('inputPrice').value = price
        document.getElementById('inputCname').value = cname
    }

    function deleteCat(e) {
        let confirmation = confirm('Click "OK" to delete')

        if(confirmation == true) {
            window.open(`/deletecat/${e}`, '_self')
        }
    }
</script>